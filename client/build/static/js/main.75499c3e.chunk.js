(this["webpackJsonpmytinerary-zampone"]=this["webpackJsonpmytinerary-zampone"]||[]).push([[0],{142:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),i=n(20),r=n.n(i),s=(n(97),n(47),n(11)),o=n(8),l=n(25),u=n(26),j=n(32),d=n(31),b=n(151),m=n(148),p=n(152),h=n(150),O=n(16),x=n(10),f=n.n(x),g=n(3),v=n(19),y=n(15),N=n.n(y),k=n(18),I={signupUser:function(e){return function(){var t=Object(v.a)(f.a.mark((function t(n,a){var c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.a.post("http://localhost:4000/api/auth/signup",Object(g.a)({},e));case 3:(c=t.sent).data.success&&!c.data.error?(console.log(c),k.b.success("Hello "+c.data.response.newUser.name,{position:k.b.POSITION.TOP_CENTER,icon:"\ud83d\udc4c"}),localStorage.setItem("token",c.data.response.token),n({type:"NEW_USER",payload:c})):k.b.error(c.data.response),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()},signIn:function(e,t){return function(){var n=Object(v.a)(f.a.mark((function n(a,c){var i;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,N.a.post("http://localhost:4000/api/auth/signin",{email:e,password:t});case 3:i=n.sent,console.log(i),i.data.success&&!i.data.error?(localStorage.setItem("token",i.data.response.token),k.b.success("Welcome "+i.data.response.name,{position:k.b.POSITION.TOP_CENTER,icon:"\ud83d\udc4c"}),a({type:"USER",payload:i})):k.b.error(i.data.error),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.error(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e,t){return n.apply(this,arguments)}}()},signInToken:function(){return function(){var e=Object(v.a)(f.a.mark((function e(t,n){var a,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=localStorage.getItem("token"),e.next=4,N.a.get("http://localhost:4000/api/auth",{headers:{Authorization:"Bearer ".concat(a)}});case 4:c=e.sent,t({type:"TOKEN",payload:c.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}()},signOut:function(){return localStorage.removeItem("token"),function(e,t){e({type:"SIGN_OUT",payload:""})}}},C=n(2);var w={signIn:I.signIn,signInToken:I.signInToken,signOut:I.signOut},T=Object(O.b)((function(e){return{user:e.authReducer.user,token:e.authReducer.token}}),w)((function(e){localStorage.getItem("token")&&!e.token&&e.signInToken();var t=Object(C.jsx)("img",{className:"account-img",alt:"userphoto",src:"https://ps.w.org/simple-user-avatar/assets/icon-256x256.png?rev=2413146"});return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(b.a,{className:"Navb p-1",collapseOnSelect:!0,fixed:"top",expand:"lg",variant:"dark",children:Object(C.jsxs)(m.a,{children:[Object(C.jsx)(s.b,{className:"myt",to:"/",children:Object(C.jsx)(b.a.Brand,{children:Object(C.jsx)("span",{className:"yellow",children:"MyTinerary "})})}),Object(C.jsx)(b.a.Brand,{children:e.token?Object(C.jsxs)("span",{className:"welc",children:[" \xa1Welcome,  ",e.token.name,"! "]}):Object(C.jsx)("span",{className:"welc",children:"You're not registered"})}),Object(C.jsx)(b.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(C.jsx)(b.a.Collapse,{className:"justify-content-end",id:"responsive-navbar-nav",children:Object(C.jsxs)(p.a,{children:[Object(C.jsx)(p.a.Link,{as:s.b,to:"/",children:Object(C.jsx)("span",{className:"white-link ",children:"Home"})}),Object(C.jsx)(p.a.Link,{as:s.b,to:"/cities",children:Object(C.jsx)("span",{className:"white-link ",children:"Cities"})}),e.token?Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(h.a,{className:"white-link ",title:Object(C.jsx)("img",{src:e.token.photo?e.token.photo:"https://static.wikia.nocookie.net/disney/images/8/82/Nemo.png/revision/latest?cb=20130819182247&path-prefix=es",className:"account-img",alt:"user_photo"}),id:"basic-nav-dropdown",children:Object(C.jsx)(h.a.Item,{children:Object(C.jsx)(h.a.Item,{as:s.b,onClick:function(){e.signOut()},to:"/signin",children:"Sign Out"})})})}):Object(C.jsxs)(h.a,{className:"navText navIcon",title:t,id:"basic-nav-dropdown",children:[Object(C.jsx)(h.a.Item,{as:s.b,to:"/signup",children:"Sign up"}),Object(C.jsx)(h.a.Item,{as:s.b,to:"/signin",children:"Sign in"})]})]})})]})})})})),S=n(89);function E(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{className:"main",children:[Object(C.jsx)("img",{className:"fondo",src:"./assets/fondo-playa.jpg",alt:"fondo"}),Object(C.jsx)("div",{className:"titulo-centro",children:Object(C.jsx)("h1",{children:"MyTinerary"})}),Object(C.jsx)("div",{className:"container",children:Object(C.jsxs)("div",{className:"titulo-medio d-flex",children:[Object(C.jsxs)("div",{className:"col-6 findyourperfect",children:[Object(C.jsx)("h1",{children:"Find your perfect trip,"}),Object(C.jsx)("h4",{children:"designed by insiders who knows and love their cities!"})]}),Object(C.jsx)("div",{className:" col-6 botonamarillo",children:Object(C.jsx)(s.b,{to:"/Cities",children:Object(C.jsx)(S.a,{variant:"warning",children:"LET'S GO!"})})})]})})]})})}var _=n(69);function R(){return Object(C.jsxs)("div",{className:"footer",children:[Object(C.jsx)("div",{children:Object(C.jsxs)("div",{className:"redes",children:[Object(C.jsx)("div",{className:"icon-f",children:Object(C.jsx)(_.a,{className:"icon"})}),Object(C.jsx)("div",{className:"icon-f",children:Object(C.jsx)(_.c,{className:"icon"})}),Object(C.jsx)("div",{className:"icon-f",children:Object(C.jsx)(_.b,{className:"icon"})})]})}),Object(C.jsx)("div",{children:Object(C.jsxs)(p.a,{className:"padreLinks",children:[Object(C.jsx)(s.b,{to:"/",children:Object(C.jsx)("span",{className:"linkFooter",children:"HOME"})}),Object(C.jsx)(s.b,{to:"/Cities",children:Object(C.jsx)("span",{className:"linkFooter",children:"CITIES"})})]})}),Object(C.jsxs)("div",{className:"contacto",children:[Object(C.jsx)("h5",{children:"Contact"}),Object(C.jsx)("p",{children:" MyTineraries@gmail.com"}),Object(C.jsx)("p",{children:"+54 11 2456 9871"})]})]})}var F=n(90),L=n.n(F),A=n(153),P={getCities:function(){return function(){var e=Object(v.a)(f.a.mark((function e(t,n){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("http://localhost:4000/api/cities");case 2:a=e.sent,t({type:"GET_ALL_CITIES",payload:a.data.response});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},filter:function(e,t){return function(n,a){n({type:"FILTER",payload:{cities:e,value:t}})}},findCity:function(e,t){return function(n,a){n({type:"FIND_A_CITY",payload:{cities:e,id:t}})}}};var M={getCities:P.getCities},U=Object(O.b)((function(e){return{cities:e.citiesReducer.cities}}),M)((function(e){return Object(a.useEffect)((function(){e.getCities()}),[]),Object(C.jsxs)("div",{className:"contenedorSlider",children:[Object(C.jsx)("h1",{className:"Popular",children:"Popular MyTineraries"}),Object(C.jsx)(m.a,{children:Object(C.jsx)(L.a,Object(g.a)(Object(g.a)({},{className:"center",centerMode:!1,infinite:!0,slidesToShow:1,speed:500,rows:2,slidesPerRow:2,autoplay:!0,autoplaySpeed:3e3,dots:!0,pauseOnHover:!0,responsive:[{breakpoint:800,settings:{slidesToShow:1,slidesToScroll:1,slidesPerRow:1,rows:4,dots:!1,arrows:!1}}]}),{},{children:e.cities.length>0&&e.cities.map((function(e,t){if(t<12)return Object(C.jsxs)(A.a,{border:"dark",className:"text-white card2",children:[Object(C.jsx)(A.a.Img,{className:"card-img imgSlider",src:e.src,alt:e.name}),Object(C.jsxs)(A.a.ImgOverlay,{children:[Object(C.jsxs)(A.a.Title,{className:"txt-dark txt-title",children:[e.name,", ",e.country]}),Object(C.jsx)(A.a.Text,{className:"txt-dark txt-description txt-center",children:e.description})]})]},t)}))}))})]})})),B=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(T,{}),Object(C.jsx)(E,{}),Object(C.jsx)(U,{}),Object(C.jsx)(R,{})]})}}]),n}(c.a.Component);var G=function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("div",{className:"headerCities",children:Object(C.jsx)("div",{className:"titulo-centro",children:Object(C.jsx)("h1",{children:"MyTinerary"})})})})},Y=n(149);var D={getCities:P.getCities,filter:P.filter},q=Object(O.b)((function(e){return{cities:e.citiesReducer.cities,auxiliar:e.citiesReducer.auxiliar}}),D)((function(e){return!e.cities[0]&&e.getCities(),Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{className:"fondo-cards",children:[Object(C.jsx)("div",{className:"inputContenedor",children:Object(C.jsx)("input",{onChange:function(t){e.filter(e.cities,t.target.value.toLowerCase().trim())},type:"text",placeholder:"Filter by city",className:"cityFilter"})}),Object(C.jsx)("div",{className:"contenedorCards",children:Object(C.jsx)("div",{className:"d-flex flex-column justify-content-center",children:e.cities.length>0?e.auxiliar.length>0?e.auxiliar.map((function(e,t){return Object(C.jsx)(s.b,{to:"/city/".concat(e._id),children:Object(C.jsxs)(A.a,{className:"Cards",children:[Object(C.jsx)(A.a.Img,{variant:"top",className:"tama\xf1oCard",src:e.src}),Object(C.jsx)(A.a.ImgOverlay,{children:Object(C.jsxs)(A.a.Body,{children:[Object(C.jsxs)(A.a.Title,{className:"cardTitle2",children:[e.name,", ",e.country]}),Object(C.jsx)(A.a.Text,{className:"txt-description",children:e.description})]})})]})},t)})):Object(C.jsx)("h1",{children:"No matching results"}):Object(C.jsx)(Y.a,{className:"spinner",animation:"border",variant:"warning"})})})]})})})),z=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(T,{}),Object(C.jsx)(G,{}),Object(C.jsx)(q,{}),Object(C.jsx)(R,{})]})}}]),n}(c.a.Component),H={getItinerariesByCityId:function(e,t){return function(){var n=Object(v.a)(f.a.mark((function n(a,c){var i;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,N.a.get("http://localhost:4000/api/itineraries/"+e);case 2:i=n.sent,a({type:"GET_ITINERARY_BY_CITY_ID",payload:{response:i.data.response,loading:t}});case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},likes:function(e,t){return function(){var n=Object(v.a)(f.a.mark((function n(a,c){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!e||!t){n.next=7;break}return n.next=4,N.a.put("http://localhost:4000/api/like",{userId:e,itineraryId:t});case 4:n.sent,n.next=8;break;case 7:k.b.warning("You must be logged in to like this itinerary",{position:k.b.POSITION.TOP_CENTER});case 8:n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.error(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e,t){return n.apply(this,arguments)}}()},setLoad:function(){return function(e){e({type:"SET_LOAD",payload:!0})}},getComments:function(e){return function(){var t=Object(v.a)(f.a.mark((function t(n,a){var c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.a.get("http://localhost:4000/api/comments/"+e);case 2:c=t.sent,n({type:"COMMENTS",payload:c.data.response});case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},getAllComments:function(){return function(){var e=Object(v.a)(f.a.mark((function e(t,n){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("http://localhost:4000/api/comments");case 2:a=e.sent,t({type:"COMMENTS",payload:a.data.response});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},postComments:function(e,t,n){return function(){var a=Object(v.a)(f.a.mark((function a(c,i){var r;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e||!t){a.next=10;break}return a.next=3,N.a.post("http://localhost:4000/api/comments",{itinerary:e,user:t,message:n});case 3:return a.sent,a.next=6,N.a.get("http://localhost:4000/api/comments");case 6:r=a.sent,c({type:"COMMENTS",payload:r.data.response}),a.next=11;break;case 10:k.b.warning("You must be logged in to comment",{position:k.b.POSITION.TOP_CENTER});case 11:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},editComments:function(e,t){return function(){var n=Object(v.a)(f.a.mark((function n(a,c){var i,r;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=localStorage.getItem("token"),n.next=3,N.a.put("http://localhost:4000/api/comments",{comment:e,message:t},{headers:{Authorization:"Bearer ".concat(i)}});case 3:return n.sent,n.next=6,N.a.get("http://localhost:4000/api/comments");case 6:r=n.sent,a({type:"COMMENTS",payload:r.data.response});case 8:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},deleteComment:function(e){return function(){var t=Object(v.a)(f.a.mark((function t(n,a){var c,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=localStorage.getItem("token"),t.next=3,N.a.delete("http://localhost:4000/api/comments/"+e,{headers:{Authorization:"Bearer ".concat(c)}});case 3:return t.next=5,N.a.get("http://localhost:4000/api/comments");case 5:i=t.sent,n({type:"COMMENTS",payload:i.data.response});case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}},V=n(6),W={getActivities:function(){return function(){var e=Object(v.a)(f.a.mark((function e(t,n){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("http://localhost:4000/api/activities/");case 2:a=e.sent,t({type:"GET_ACTIVITIES",payload:a.data.response});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}},J=n(74),K=n(70),Q=n.n(K);var X={editComments:H.editComments,deleteComment:H.deleteComment},Z=Object(O.b)(null,X)((function(e){var t=Object(a.useState)(!1),n=Object(V.a)(t,2),c=n[0],i=n[1],r=Object(a.useState)(""),s=Object(V.a)(r,2),o=(s[0],s[1]),l=Object(a.useRef)();return Object(C.jsxs)("div",{className:"comentario",children:[Object(C.jsx)("div",{children:e.comment.user&&Object(C.jsxs)("div",{className:"contenedorComments",children:[Object(C.jsxs)("h6",{children:["User ",e.comment.user.name," said:"]}),Object(C.jsxs)("div",{className:"d-flex",children:[Object(C.jsx)("img",{className:"imgComment",src:e.comment.user.photo}),Object(C.jsx)("p",{className:"comentarioP",children:e.comment.message})]})]})}),Object(C.jsxs)("div",{className:"d-flex flex-end",children:[e.comment.user&&e.comment.user._id===e.user._id&&Object(C.jsxs)("div",{children:[Object(C.jsx)("p",{className:"edit",onClick:function(){i(!c)},children:Object(C.jsx)(J.a,{})}),c&&Object(C.jsx)("div",{className:"formEdit",children:Object(C.jsxs)("form",{onSubmit:function(t){t.preventDefault(),i(!c),e.editComments(e.comment._id,l.current.value)},children:[Object(C.jsx)("input",{className:"edityourcomment",placeholder:"Edit your comment",type:"text",name:"editor",ref:l,defaultValue:e.comment.message,onChange:function(){return o(l.current.value)}}),Object(C.jsx)("input",{className:"btn-edit",type:"submit",value:"Send new message"})]})})]}),e.comment.user&&e.comment.user._id===e.user._id&&Object(C.jsx)("p",{className:"edit",onClick:function(){Q()({title:"Are you sure?",text:"Once deleted, you will not be able to recover this comment!",icon:"warning",buttons:!0,dangerMode:!0}).then((function(t){t?(e.deleteComment(e.comment._id),Q()("Your comment has been deleted!",{icon:"success"})):Q()("Your comment is safe!")}))},children:Object(C.jsx)(J.b,{})})]})]})}));var $={likes:H.likes,getActivities:W.getActivities,getAllComments:H.getAllComments,postComments:H.postComments},ee=Object(O.b)((function(e){return{comments:e.itinerariesReducer.comments}}),$)((function(e){var t=Object(a.useState)(!1),n=Object(V.a)(t,2),c=n[0],i=n[1];Object(a.useEffect)((function(){e.activities[0]&&!e.activities[0]&&e.getActivities(e.itinerary._id)}),[e.activities]);var r=Object(a.useRef)(),s=Object(a.useState)(""),o=Object(V.a)(s,2),l=o[0],u=o[1],j=Object(a.useState)(""),d=Object(V.a)(j,2),b=d[0],m=d[1];return e.itinerary&&""===l&&""===b&&(e.user&&u(e.itinerary.likes.some((function(t){return t===e.user._id}))),m(e.itinerary.likes.length)),Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("div",{className:"d-flex justify-content-center",children:Object(C.jsxs)("div",{className:"itinerarioCard",children:[Object(C.jsx)("h2",{children:e.itinerary.itineraryName}),Object(C.jsx)("img",{className:"singleCard",variant:"top",src:e.itinerary.userImg,alt:"."}),Object(C.jsx)("h4",{children:e.itinerary.userName}),Object(C.jsxs)("div",{className:"div",children:[Object(C.jsxs)("div",{className:"minidiv",children:[Object(C.jsx)("p",{onClick:function(){localStorage.getItem("token")?(u(!l),m(l?b-1:b+1),e.likes(e.user._id,e.itinerary._id)):k.b.warning("Please sign in to like this itinerary",{position:k.b.POSITION.TOP_CENTER})},children:l?Object(C.jsx)("img",{className:"heartlike",src:"../assets/heart.png"}):Object(C.jsx)("img",{className:"heartlike",src:"../assets/like.png"})})," ",Object(C.jsx)("p",{children:b})]}),Object(C.jsx)("div",{className:"minidiv",children:Object(C.jsxs)("div",{children:["Duration: ",e.itinerary.duration,"Hs"]})}),Object(C.jsx)("div",{className:"minidiv",children:function(e){return Array.from({length:e})}(e.itinerary.price).map((function(){return Object(C.jsx)("div",{children:"\ud83d\udcb5"},e.itinerary.price)}))})]}),Object(C.jsx)("div",{className:"hashtag",children:e.itinerary.hashtags.map((function(e){return Object(C.jsxs)("div",{className:"tag",children:[" ","#",e]},e._id)}))}),Object(C.jsx)("div",{className:"viewmoree",children:c&&e.activities[0]&&e.activities.map((function(t){if(t.itinerary._id===e.itinerary._id)return Object(C.jsx)("div",{className:"activity",children:Object(C.jsx)("div",{className:"activityPic",style:{backgroundImage:'url("'.concat(t.image,'")')},children:Object(C.jsx)("h5",{className:"activityName",children:t.title})})})}))}),Object(C.jsx)("div",{children:Object(C.jsxs)("div",{children:[c&&e.comments&&e.comments.map((function(t){if(t.itinerary===e.itinerary._id)return Object(C.jsx)(Z,{comment:t,itinerary:e.itinerary._id,user:e.user})})),c&&Object(C.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.postComments(e.itinerary._id,e.user._id,r.current.value),r.current.value=""},children:[Object(C.jsx)("input",{ref:r,type:"textarea",className:"comentar",placeholder:"Leave your message here"}),Object(C.jsx)("div",{className:"submit",children:Object(C.jsx)("input",{className:"btn-submit",type:"submit",value:"Comment"})})]})]})}),Object(C.jsxs)("button",{onClick:function(){i(!c),e.getActivities(e.itinerary._id),e.getAllComments()},className:"viewmore",children:[" ",c?"View less":"View more"]})]})})})})),te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=Object(a.useRef)(!1);t.current||(e(),t.current=!0)};var ne={getCities:P.getCities,findCity:P.findCity,getItinerariesByCityId:H.getItinerariesByCityId,setLoad:H.setLoad},ae=Object(O.b)((function(e){return{cities:e.citiesReducer.cities,city:e.citiesReducer.city,itineraries:e.itinerariesReducer.itineraries,user:e.authReducer.user,activities:e.activitiesReducer.activities,isLoading:e.itinerariesReducer.isLoading}}),ne)((function(e){var t=Object(o.g)();te((function(){e.setLoad()})),Object(a.useEffect)((function(){!e.cities[0]&&e.getCities(),e.cities[0]&&e.findCity(e.cities,t.id),e.getItinerariesByCityId(t.id,!1)}),[e.cities]);var n={backgroundImage:"url("+e.city.src+")",width:"100%",height:"70vh",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover",zIndex:"-1"};return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{className:"fondo-itinerario",children:[Object(C.jsx)("div",{className:"back",style:n}),Object(C.jsx)("h1",{className:"title-carditinerary d-flex justify-content-center",children:e.city.name}),Object(C.jsx)("p",{className:"description container",children:e.city.description}),e.isLoading?Object(C.jsx)("div",{className:"spinner",children:Object(C.jsx)(Y.a,{animation:"border",variant:"warning"})}):e.cities[0]?e.itineraries.length>0?e.itineraries.map((function(n,a){return Object(C.jsx)(ee,{itinerary:n,user:e.user,activities:e.activities,city:t.id},a)})):Object(C.jsx)("h1",{className:"there",children:"There are not itineraries for this city yet..."}):"",Object(C.jsx)(s.b,{className:"botones",to:"/cities",children:" Back to Cities"})]})})}));var ce=function(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(T,{}),Object(C.jsx)(ae,{}),Object(C.jsx)(R,{})]})},ie=["Argentina","Spain","Mexico","Ireland","Miami","Brazil","Greece","Argelia","France","Costa Rica","Australia","Germany","Egypt","Italy"],re=n(66),se=n.n(re);var oe={signupUser:I.signupUser,signInToken:I.signInToken},le=Object(O.b)((function(e){return{user:e.authReducer.user,token:e.authReducer.token}}),oe)((function(e){var t=Object(o.f)();localStorage.getItem("token")&&!e.token&&e.signInToken(),e.token&&t("/",{replace:!0});var n=function(t){var n={name:t.profileObj.givenName,lastName:t.profileObj.familyName,email:t.profileObj.email,password:t.profileObj.googleId,photo:t.profileObj.imageUrl,country:"Argentina",google:!0};e.signupUser(n)},c=Object(a.useRef)(),i=Object(a.useRef)(),r=Object(a.useRef)(),l=Object(a.useRef)(),u=Object(a.useRef)(),j=Object(a.useRef)();return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("div",{className:"contenedorsignup",children:Object(C.jsx)("div",{className:"formulario",children:Object(C.jsxs)("form",{className:"form",onSubmit:function(t){t.preventDefault(),e.signupUser({name:r.current.value,lastName:l.current.value,email:c.current.value,password:i.current.value,photo:u.current.value,country:j.current.value}),r.current.value="",l.current.value="",c.current.value="",i.current.value="",u.current.value="",j.current.value=""},children:[Object(C.jsxs)("legend",{children:["Sign Up",Object(C.jsx)("h5",{children:"It's quick and easy"}),"  "]}),Object(C.jsx)("label",{htmlFor:"name",children:"First Name"}),Object(C.jsx)("input",{type:"text",placeholder:"Name",ref:r,required:!0,minLength:"3",maxLength:"20",id:"name"}),Object(C.jsx)("label",{htmlFor:"lastname",children:"Last Name"}),Object(C.jsx)("input",{type:"text",placeholder:"Last name",ref:l,required:!0,minLength:"3",maxLength:"20",id:"lastname"}),Object(C.jsx)("label",{htmlFor:"email",children:"Email "}),Object(C.jsx)("input",{type:"email",placeholder:"E-mail",ref:c,required:!0,minLength:"3",id:"email"}),Object(C.jsx)("label",{htmlFor:"pass",children:"Password"}),Object(C.jsx)("input",{type:"password",placeholder:"Password",ref:i,required:!0,id:"pass"}),Object(C.jsx)("label",{htmlFor:"img",children:"Picture (url) "}),Object(C.jsx)("input",{type:"url",placeholder:"Picture (url)",ref:u,required:!0,id:"img"}),Object(C.jsx)("label",{htmlFor:"country",children:"Choose a country:"}),Object(C.jsx)("select",{ref:j,placeholder:"Country",id:"country",children:ie.sort().map((function(e){return Object(C.jsx)("option",{htmlFor:"country",children:e},e)}))}),Object(C.jsx)("input",{className:"botones p-1 fs-small btn-form",type:"submit",value:"Sign Up"}),Object(C.jsx)("p",{children:"or"}),Object(C.jsx)("div",{className:"googlelogin",children:Object(C.jsx)(se.a,{clientId:"976419191370-0f3qd6gishicdla3a3sn99f76pht65v2.apps.googleusercontent.com",buttonText:"Sign up with Google",onSuccess:n,onFailure:n,cookiePolicy:"single_host_origin"})}),Object(C.jsxs)("div",{className:"already",children:[Object(C.jsx)("p",{children:"Already have an account? "}),Object(C.jsx)(s.b,{to:"/signin",children:Object(C.jsx)("span",{className:"Create",children:" Sign in here!"})})]})]})})})})})),ue=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(T,{}),Object(C.jsx)(le,{}),Object(C.jsx)(R,{})]})}}]),n}(c.a.Component);var je={signIn:I.signIn,signInToken:I.signInToken},de=Object(O.b)((function(e){return{user:e.authReducer.user,token:e.authReducer.token}}),je)((function(e){var t=Object(o.f)(),n=function(t){e.signIn(t.profileObj.email,t.profileObj.googleId,!0)};localStorage.getItem("token")&&!e.token&&e.signInToken();var c=Object(a.useRef)(),i=Object(a.useRef)();return e.token&&t("/",{replace:!0}),Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("div",{className:"contenedorsignin",children:Object(C.jsx)("div",{className:"formulario",children:Object(C.jsxs)("form",{className:"form",onSubmit:function(t){t.preventDefault(),e.signIn(c.current.value,i.current.value),c.current.value="",i.current.value=""},children:[Object(C.jsx)("legend",{children:"Sign In"}),Object(C.jsx)("label",{htmlFor:"email",children:"Email "}),Object(C.jsx)("input",{type:"email",placeholder:"E-mail",ref:c,id:"email"}),Object(C.jsx)("label",{htmlFor:"pass",children:"Password"}),Object(C.jsx)("input",{type:"password",ref:i,placeholder:"Password",className:"",id:"pass"}),Object(C.jsx)("input",{className:"botones p-1 fs-small btn-form txt-center",type:"submit",value:"Log in"}),Object(C.jsx)("p",{children:"or"}),Object(C.jsx)("div",{className:"googlelogin",children:Object(C.jsx)(se.a,{clientId:"976419191370-0f3qd6gishicdla3a3sn99f76pht65v2.apps.googleusercontent.com",buttonText:"Sign in with Google",onSuccess:n,onFailure:n,cookiePolicy:"single_host_origin"})}),Object(C.jsxs)("div",{className:"already",children:[Object(C.jsx)("p",{children:"Don't you have an account yet? "}),Object(C.jsx)(s.b,{to:"/signup",children:Object(C.jsx)("span",{className:"Create",children:" Create new account"})})]})]})})})})})),be=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(T,{}),Object(C.jsx)(de,{}),Object(C.jsx)(R,{})]})}}]),n}(c.a.Component);n(140);var me=function(){return Object(C.jsxs)(s.a,{children:[Object(C.jsx)(k.a,{autoClose:4e3}),Object(C.jsxs)(o.c,{children:[Object(C.jsx)(o.a,{path:"/",element:Object(C.jsx)(B,{})}),Object(C.jsx)(o.a,{path:"/cities",element:Object(C.jsx)(z,{})}),Object(C.jsx)(o.a,{path:"/city/:id",element:Object(C.jsx)(ce,{})}),Object(C.jsx)(o.a,{path:"/signup",element:Object(C.jsx)(ue,{})}),Object(C.jsx)(o.a,{path:"/signin",element:Object(C.jsx)(be,{})})]})]})},pe=(n(141),n(54)),he=n(91),Oe={state:[],cities:[],auxiliar:[],city:[]},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_CITIES":return Object(g.a)(Object(g.a)({},e),{},{cities:t.payload,auxiliar:t.payload});case"FILTER":var n=t.payload.cities.filter((function(e){return e.name.toLowerCase().startsWith(t.payload.value.toLowerCase())}));return Object(g.a)(Object(g.a)({},e),{},{auxiliar:n});case"FIND_A_CITY":var a=t.payload.cities.find((function(e){return e._id===t.payload.id}));return Object(g.a)(Object(g.a)({},e),{},{city:a});default:return e}},fe={state:[],itineraries:[],isLoading:!0,comments:[]},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ITINERARY_BY_CITY_ID":return Object(g.a)(Object(g.a)({},e),{},{itineraries:t.payload.response,isLoading:t.payload.loading});case"SET_LOAD":return Object(g.a)(Object(g.a)({},e),{},{isLoading:t.payload});case"COMMENTS":return Object(g.a)(Object(g.a)({},e),{},{comments:t.payload});default:return e}},ve={state:[],token:"",user:{}},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_USER":case"USER":return Object(g.a)(Object(g.a)({},e),{},{user:t.payload});case"TOKEN":case"SIGN_OUT":return Object(g.a)(Object(g.a)({},e),{},{token:t.payload,user:t.payload});default:return e}},Ne={state:[],activities:[]},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ACTIVITIES":return Object(g.a)(Object(g.a)({},e),{},{activities:t.payload});default:return e}},Ie=Object(pe.b)({citiesReducer:xe,itinerariesReducer:ge,authReducer:ye,activitiesReducer:ke}),Ce=Object(pe.c)(Ie,Object(pe.a)(he.a));r.a.render(Object(C.jsx)(O.a,{store:Ce,children:Object(C.jsx)(me,{})}),document.getElementById("root"))},47:function(e,t,n){},97:function(e,t,n){}},[[142,1,2]]]);
//# sourceMappingURL=main.75499c3e.chunk.js.map